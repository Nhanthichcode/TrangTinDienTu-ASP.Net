@{
    ViewData["Title"] = "Liên hệ";
    // Lấy thông tin từ ViewBag (nếu bạn truyền từ Controller)
    var contactEmail = ViewBag.ContactEmail ?? "support@enews.com"; // Thay email mặc định
    var contactPhone = ViewBag.ContactPhone ?? "0123 456 789"; // Thay SĐT mặc định
    var contactAddress = ViewBag.ContactAddress ?? "123 Đường ABC, Quận XYZ, TP. Hồ Chí Minh"; // Thay địa chỉ mặc định
}

<div class="container mt-4 mb-5">
    <h1 class="text-center text-danger mb-4"><i class="bi bi-envelope-paper-heart-fill me-2"></i>@ViewData["Title"]</h1>
    <p class="lead text-center mb-5">Chúng tôi luôn sẵn lòng lắng nghe ý kiến đóng góp hoặc giải đáp thắc mắc của bạn. Vui lòng liên hệ với E-News qua các thông tin dưới đây hoặc sử dụng form liên hệ.</p>

    <div class="row g-5">
        @* Tăng khoảng cách giữa các cột *@

        @* --- CỘT THÔNG TIN LIÊN HỆ --- *@
        <div class="col-lg-5">
            <div class="card shadow-sm border-0 h-100">
                <div class="card-header bg-dark text-white">
                    <h5 class="mb-0"><i class="bi bi-geo-alt-fill me-2"></i>Thông tin liên hệ</h5>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled mb-0">
                        <li class="mb-3 d-flex align-items-start">
                            <i class="bi bi-building fs-4 text-primary me-3 mt-1"></i>
                            <div>
                                <strong>Địa chỉ:</strong><br>
                                @contactAddress
                            </div>
                        </li>
                        <li class="mb-3 d-flex align-items-start">
                            <i class="bi bi-telephone-fill fs-4 text-success me-3 mt-1"></i>
                            <div>
                                <strong>Điện thoại:</strong><br>
                                <a href="tel:@contactPhone.Replace(" ", "")" style="text-decoration: none">@contactPhone</a>
                            </div>
                        </li>
                        <li class="d-flex align-items-start">
                            <i class="bi bi-envelope-at-fill fs-4 text-danger me-3 mt-1"></i>
                            <div>
                                <strong>Email:</strong><br>
                                <a href="mailto:@contactEmail" style="text-decoration: none">@contactEmail</a>
                            </div>
                        </li>
                    </ul>
                    <hr class="my-4">
                    <p class="text-muted">Chúng tôi sẽ cố gắng phản hồi bạn trong thời gian sớm nhất.</p>
                    @* (Tùy chọn) Thêm bản đồ nhỏ *@
                    @* <div class="ratio ratio-16x9 mt-3">
                    <iframe src="[LINK NHÚNG GOOGLE MAPS CỦA BẠN]" allowfullscreen="" loading="lazy"></iframe>
                    </div> *@
                </div>
            </div>
        </div>

        @* --- CỘT FORM LIÊN HỆ --- *@
        <div class="col-lg-7">
            <div class="card shadow-sm border-0 h-100">
                <div class="card-header bg-light">
                    <h5 class="mb-0"><i class="bi bi-pencil-square me-2 text-primary"></i>Gửi tin nhắn cho chúng tôi</h5>
                </div>
                <div class="card-body">
                    @* LƯU Ý: Form này chỉ là giao diện, cần Controller Action để xử lý gửi email/lưu DB *@
                    <form asp-action="SendContactMessage" asp-controller="Home" method="post">
                        @* <-- Sửa Action/Controller xử lý *@
                        @Html.AntiForgeryToken()
                        <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

                        <div class="row g-3">
                            <div class="col-md-6 mb-3">
                                <label for="ContactName" class="form-label fw-bold">Họ và Tên <span class="text-danger">*</span></label>
                                <input type="text" id="ContactName" name="ContactName" class="form-control" required placeholder="Nhập tên của bạn">
                                @* <span asp-validation-for="ContactName" class="text-danger"></span> *@ @* Bỏ comment nếu dùng ViewModel *@
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="ContactEmail" class="form-label fw-bold">Email <span class="text-danger">*</span></label>
                                <input type="email" id="ContactEmail" name="ContactEmail" class="form-control" required placeholder="your.email@example.com">
                                @* <span asp-validation-for="ContactEmail" class="text-danger"></span> *@
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="Subject" class="form-label fw-bold">Tiêu đề <span class="text-danger">*</span></label>
                            <input type="text" id="Subject" name="Subject" class="form-control" required placeholder="Vấn đề bạn muốn trao đổi">
                            @* <span asp-validation-for="Subject" class="text-danger"></span> *@
                        </div>
                        <div class="mb-3">
                            <label for="Message" class="form-label fw-bold">Nội dung tin nhắn <span class="text-danger">*</span></label>
                            <textarea id="Message" name="Message" class="form-control" rows="5" required placeholder="Viết nội dung chi tiết..."></textarea>
                            @* <span asp-validation-for="Message" class="text-danger"></span> *@
                        </div>
                        <div class="d-grid">
                            @* Nút full width *@
                            <button type="submit" class="btn btn-primary btn-lg"><i class="bi bi-send-fill me-2"></i> Gửi liên hệ</button>
                        </div>
                    </form>
                    @* Hiển thị thông báo thành công/lỗi sau khi gửi (nếu có) *@
                    @if (TempData["ContactSuccess"] != null)
                    {
                        <div class="alert alert-success mt-3">@TempData["ContactSuccess"]</div>
                    }
                    @if (TempData["ContactError"] != null)
                    {
                        <div class="alert alert-danger mt-3">@TempData["ContactError"]</div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    @* Thêm validation script nếu bạn dùng ViewModel với DataAnnotations *@
}